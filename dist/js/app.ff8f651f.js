(function(t){function e(e){for(var a,o,s=e[0],i=e[1],u=e[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);p&&p(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},c=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var p=i;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home__container",attrs:{id:"app"}},[t._l(t.sections,(function(e,a){return n("div",{key:a,staticClass:"sections__wrapper"},[n("div",{staticClass:"sections__wrapper--header"},[n("div",{staticClass:"sections__wrapper--header-title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"section.name"}],attrs:{type:"text",placeholder:e.name},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.changeSectionName(e.id,e.name)},input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]),n("div",{staticClass:"sections__wrapper--header-icons"},[n("i",{staticClass:"fa fa-plus mr-1",on:{click:function(n){return t.addTask(e.id,e.tasks)}}}),n("i",{staticClass:"fa fa-trash",on:{click:function(n){return t.removeSelection(e.id)}}})])]),n("div",{staticClass:"sections__wrapper--task",style:[0!=e.tasks.length?{"background-image":"none"}:""]},[0==e.tasks.length?n("div",{staticClass:"sections__wrapper--task-add"},[n("div",{on:{click:function(n){return t.addTask(e.id)}}},[n("i",{staticClass:"fa fa-plus"}),t._v(" "),n("span",[t._v("Add Task")])])]):t._e(),n("draggable",{staticClass:"draggable",attrs:{list:e.tasks,group:"task"}},t._l(e.tasks,(function(a){return n("div",{key:a.id,staticClass:"card__wrapper mt-1"},[n("div",{staticClass:"card__wrapper--header"},[n("div",{staticClass:"card__wrapper--header-color",style:{backgroundColor:a.backgroundColor}}),n("div",{staticClass:"card__wrapper--header-icons"},[n("i",{staticClass:"fa fa-ellipsis-h",on:{click:function(e){return t.popupCardDetail(a.id)}}})])]),n("div",{staticClass:"card__wrapper--body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"task.name"}],attrs:{type:"text",placeholder:a.name},domProps:{value:a.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.changeTaskName(e.id,e.tasks)},input:function(e){e.target.composing||t.$set(a,"name",e.target.value)}}})]),n("div",{staticClass:"card__wrapper--footer"},[n("div",{staticClass:"card__wrapper--footer-date"},[t._v(t._s(a.date))]),n("div",{staticClass:"card__wrapper--footer-icons"},[n("i",{staticClass:"fa fa-th"})])]),t.tmpTaskId===a.id?n("div",{staticClass:"card__wrapper--popup-detail"},[n("div",{staticClass:"card__wrapper--popup-detail--colors"},[n("div",{staticClass:"card__wrapper--popup-detail--colors-title"},[t._v(" Colors: ")]),t._l(t.colors,(function(r,c){return n("div",{key:c,staticClass:"card__wrapper--popup-detail--colors-color"},[n("div",{style:{backgroundColor:r,width:"10px",height:"10px",borderRadius:"50%"},on:{click:function(n){return t.changeColor(e.id,e.tasks,a.id,r)}}})])}))],2),n("div",{staticClass:"card__wrapper--popup-detail--delete",on:{click:function(n){return t.removeTask(e.id,e.tasks,a.id)}}},[n("i",{staticClass:"fa fa-trash"}),t._v(" Delete Task ")])]):t._e()])})),0)],1)])})),n("div",{staticClass:"add-sections__wrapper",on:{click:t.addSelection}},[n("i",{staticClass:"fa fa-plus mr-1"}),n("span",[t._v("Add Section")])])],2)},c=[],o=n("2909"),s=(n("d81d"),n("a15b"),n("99af"),n("159b"),n("4de4"),n("b76a")),i=n.n(s),u=n("1da1"),p=(n("96cf"),n("d3b7"),"http://localhost:3000"),l=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.text().then((function(t){var n=t&&JSON.parse(t);return e.ok?n:Promise.reject({status:e.status,statusText:e.statusText,message:n.message?n.message:"Undefined Error"})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d={fetchSectionList:f,fetchSectionNameUpdate:m,fetchSectionTaskUpdate:k,fetchSectionAdd:y,fetchSectionDelete:C,fetchSectionTaskAdd:_,fetchTaskNameUpdate:S,fetchSectionTaskColorUpdate:j,fetchTaskDelete:N};function f(){return h.apply(this,arguments)}function h(){return h=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={method:"GET"},t.next=3,fetch("".concat(p,"/sections"),e);case 3:return n=t.sent,t.abrupt("return",l(n));case 5:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function m(t,e){return g.apply(this,arguments)}function g(){return g=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:n})},t.next=3,fetch("".concat(p,"/sections/").concat(e),a);case 3:return r=t.sent,t.abrupt("return",l(r));case 5:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function k(t,e){return v.apply(this,arguments)}function v(){return v=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({tasks:Object(o["a"])(n)})},t.next=3,fetch("".concat(p,"/sections/").concat(e),a);case 3:return r=t.sent,t.abrupt("return",l(r));case 5:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function y(t){return b.apply(this,arguments)}function b(){return b=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({name:e,tasks:[]})},t.next=3,fetch("".concat(p,"/sections"),n);case 3:return a=t.sent,t.abrupt("return",l(a));case 5:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function C(t){return w.apply(this,arguments)}function w(){return w=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"DELETE"},t.next=3,fetch("".concat(p,"/sections/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",l(a));case 5:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function _(t,e){return T.apply(this,arguments)}function T(){return T=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(n),a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({tasks:Object(o["a"])(n)})},t.next=4,fetch("".concat(p,"/sections/").concat(e),a);case 4:return r=t.sent,t.abrupt("return",l(r));case 6:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function S(t,e){return O.apply(this,arguments)}function O(){return O=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({tasks:Object(o["a"])(n)})},t.next=3,fetch("".concat(p,"/sections/").concat(e),a);case 3:return r=t.sent,t.abrupt("return",l(r));case 5:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function j(t,e){return x.apply(this,arguments)}function x(){return x=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(n),a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({tasks:Object(o["a"])(n)})},t.next=4,fetch("".concat(p,"/sections/").concat(e),a);case 4:return r=t.sent,t.abrupt("return",l(r));case 6:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function N(t,e){return R.apply(this,arguments)}function R(){return R=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({tasks:Object(o["a"])(n)})},t.next=3,fetch("".concat(p,"/sections/").concat(e),a);case 3:return r=t.sent,t.abrupt("return",l(r));case 5:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}var E=n("ec26"),P={name:"App",components:{draggable:i.a},data:function(){return{newTask:"",sections:[],colors:["#DBE9F9","#D1D9E3","#CCDAD9","#FFE9CC","#E9CFCF","#CCCCCC","#EBEBEB"],isPopupCardDetail:!1,tmpTaskId:null,changeSelection:""}},computed:{itemsLength:function(){return this.sections.map((function(t){return t.tasks}))}},watch:{sections:{handler:function(t,e){0!=e.length&&(this.changeSelection=t)},deep:!0},itemsLength:function(t,e){0!=e.length&&this.changeSectionTask()}},methods:{join:function(t,e,n){function a(e){var n=new Intl.DateTimeFormat("en",e);return n.format(t)}return e.map(a).join(n)},addSelection:function(){d.fetchSectionAdd("New Section").then((function(t){console.log("new section=>",t)})).catch((function(){}))},removeSelection:function(t){d.fetchSectionDelete(t).then((function(t){console.log("delete section=>",t)})).catch((function(){}))},addTask:function(t,e){var n=[],a=[{day:"numeric"},{month:"short"}],r=this.join(new Date,a," ");n=e&&0!=e.length?[{id:Object(E["a"])(),name:"New Task",backgroundColor:"#E9CFCF",date:r}].concat(Object(o["a"])(e)):[{id:Object(E["a"])(),name:"New Task",backgroundColor:"#E9CFCF",date:r}],d.fetchSectionTaskAdd(t,n).then((function(t){console.log("change task=>",t)})).catch((function(){}))},changeColor:function(t,e,n,a){var r=[];e.forEach((function(t){t.id==n&&(t.backgroundColor=a,r=e)})),d.fetchSectionTaskUpdate(t,r).then((function(t){console.log("change task=>",t)})).catch((function(){}))},popupCardDetail:function(t){this.tmpTaskId!=t?this.tmpTaskId=t:this.tmpTaskId=null},getAsanaSection:function(){var t=this;d.fetchSectionList().then((function(e){t.sections=e})).catch((function(){}))},changeSectionName:function(t,e){d.fetchSectionNameUpdate(t,e).then((function(t){console.log("change section name=>",t)})).catch((function(){}))},changeTaskName:function(t,e){d.fetchTaskNameUpdate(t,e).then((function(t){console.log("change task name=>",t)})).catch((function(){}))},changeSectionTask:function(){this.changeSelection.forEach((function(t){d.fetchSectionTaskUpdate(t.id,t.tasks).then((function(t){console.log("change task=>",t)})).catch((function(){}))}))},removeTask:function(t,e,n){var a="";a=e.filter((function(t){return t.id!=n})),d.fetchTaskDelete(t,a).then((function(t){console.log("change task =>",t)})).catch((function(){}))}},created:function(){this.getAsanaSection()}},F=P,A=(n("5c0b"),n("2877")),D=Object(A["a"])(F,r,c,!1,null,null,null),U=D.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(U)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.ff8f651f.js.map